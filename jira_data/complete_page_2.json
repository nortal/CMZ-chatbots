{"issues":[{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540849","self":"https://nortal.atlassian.net/rest/api/3/issue/540849","key":"PR003946-131","fields":{"summary":"Synchronize All Test Suites with Current Jira Epic Tasks","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10002","id":"10002","description":"A small, distinct piece of work.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10318?size=medium","name":"Task","subtask":false,"avatarId":10318,"hierarchyLevel":0},"created":"2025-09-13T08:45:58.768+0300","description":{"type":"doc","version":1,"content":[{"type":"paragraph","content":[{"type":"text","text":"As a developer, I want all test suites (functional, UI, unit, integration) to be synchronized with current Jira epic tasks and comprehensively validate persistence layer behavior to ensure complete test coverage across all implementation states (done, in-progress, to-do). AC1: Jira Task Discovery and Mapping - Given the Jira epic PR003946-61 contains tasks in Done In Progress and To Do states When test discovery script executes against Jira API Then generate complete mapping of all subtasks with current status And identify which tasks have corresponding test coverage Test: python scripts/discover_jira_tasks.py --epic PR003946-61 produces JSON mapping with status assignee completion date Verification: jq .tasks | group_by(.status) | map({status: .[0].status, count: length}) task_mapping.json shows counts for each status. AC2: Unit Test Synchronization - Given Jira tasks marked as Done have implemented functionality When unit test suite runs against all Done task implementations Then verify 100% of Done tasks have corresponding unit tests that pass And verify In Progress tasks have failing/skipped tests with TODO markers And verify To Do tasks have placeholder tests marked with @pytest.mark.skip Test: pytest --collect-only tests/unit/ | grep -c test_.*PR003946 equals total task count Verification: pytest tests/unit/ -v --tb=no | grep -E (PASSED|FAILED|SKIPPED) | sort | uniq -c shows expected distribution. AC3: Integration Test API Coverage - Given API endpoints exist for Done and In Progress Jira tasks When integration test suite executes against all endpoints Then verify Done endpoints return 200/201 responses with valid data And verify In Progress endpoints either work or return proper error responses And verify To Do endpoints return 404/501 with Not Implemented messages Test: curl -s http://localhost:8080/api/v1/{endpoint} | jq .code for each endpoint mapped to Jira tasks Verification: python tests/integration/validate_jira_alignment.py returns 0 exit code with coverage report. AC4: Persistence Layer Validation - DynamoDB Mode - Given API runs with default DynamoDB persistence and Jira tasks involve data operations When integration tests execute CRUD operations for each Done task Then verify data persists correctly to appropriate DynamoDB tables And verify audit timestamps (created.at modified.at) are populated And verify data retrieval matches what was stored Test: aws dynamodb scan --table-name quest-dev-{domain} --select COUNT before/after each test Verification: python tests/persistence/validate_dynamodb_state.py --mode integration confirms data integrity. AC5: Persistence Layer Validation - File Mode - Given API runs with PERSISTENCE_MODE=file and same Jira task operations When integration tests execute identical CRUD operations Then verify data persists to local JSON files with same structure as DynamoDB And verify file-based operations maintain referential integrity And verify concurrent operations dont corrupt files Test: find ./data -name *.json -exec jq keys {} semicolon | sort | uniq matches expected schema Verification: python tests/persistence/validate_file_state.py --mode integration confirms file integrity. AC6: UI Test Playwright Synchronization - Given Playwright tests exist for user-facing functionality When UI test suite runs against features mapped to Jira tasks Then verify Done tasks have working UI flows across all 6 browsers And verify In Progress tasks either work or show appropriate Coming Soon messages And verify To Do tasks show placeholder UI or are hidden from users Test: FRONTEND_URL=http://localhost:3001 npx playwright test --list | grep -c PR003946 equals UI-relevant task count Verification: FRONTEND_URL=http://localhost:3001 npx playwright test --grep PR003946 --reporter=json shows expected pass/fail/skip distribution."}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/10016","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/medium.svg","name":"Normal","id":"10016"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540878","self":"https://nortal.atlassian.net/rest/api/3/issue/540878","key":"PR003946-135","fields":{"summary":"CRITICAL: API Schema Validation Failures Block Frontend Integration","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10004","id":"10004","description":"A problem or error.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium","name":"Bug","subtask":false,"avatarId":10303,"hierarchyLevel":0},"created":"2025-09-13T23:42:57.542+0300","description":{"type":"doc","version":1,"content":[{"type":"paragraph","content":[{"type":"text","text":"## Critical Issue\nAPI endpoints fail with HTTP 500 errors due to field name mismatch between DynamoDB storage (snake_case) and OpenAPI specification (camelCase).\n\n## Impact\n- Complete frontend-backend integration failure\n- All animal configuration functionality blocked after authentication\n- User workflow broken at data retrieval step\n\n## Technical Details\n- **Error**: 'animalId' is a required property validation failure\n- **Root Cause**: DynamoDB stores 'animal_id', OpenAPI expects 'animalId'\n- **Affected Endpoints**: /animal_list, all entity data endpoints\n- **Solution**: Implement field transformation in impl/utils/dynamo.py\n\n## Reproduction Steps\n1. Authenticate: curl -X POST http://localhost:8080/auth -H \"Content-Type: application/json\" -d '{\"username\":\"test@cmz.org\",\"password\":\"testpass123\"}'\n2. Extract JWT token from response\n3. Request animal data: curl -H \"Authorization: Bearer [TOKEN]\" http://localhost:8080/animal_list\n4. **Expected**: HTTP 200 with animal array\n5. **Actual**: HTTP 500 with 'animalId' is a required property validation error\n\n## Data Evidence\nConfirmed real DynamoDB data retrieved successfully:\n- animal_id: 'bella_002'\n- name: 'Bella the Bear'\n- species: 'Ursus americanus'\n- status: 'active'\n\n## Definition of Done\n- All API endpoints return HTTP 200 responses\n- Field names match OpenAPI specification requirements\n- Frontend integration validation passes (/validate-frontend-backend-integration)\n- No schema validation errors in API responses\n\n## Files Affected\n- backend/api/src/main/python/openapi_server/impl/utils/dynamo.py\n- backend/api/src/main/python/openapi_server/impl/animals.py\n- All entity implementation files in impl/ directory"}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/10071","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/highest.svg","name":"Highest","id":"10071"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540879","self":"https://nortal.atlassian.net/rest/api/3/issue/540879","key":"PR003946-136","fields":{"summary":"BUG: Root Endpoint Returns Debug String Instead of PublicHome Object","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10004","id":"10004","description":"A problem or error.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium","name":"Bug","subtask":false,"avatarId":10303,"hierarchyLevel":0},"created":"2025-09-13T23:42:59.076+0300","description":{"type":"doc","version":1,"content":[{"type":"paragraph","content":[{"type":"text","text":"## Problem Description\nRoot endpoint (/) returns debug string 'do some magic!' instead of required PublicHome object structure, causing HTTP 500 validation errors.\n\n## Impact\n- Frontend cannot verify backend health status\n- Root endpoint functionality completely broken\n- API spec compliance violation\n\n## Technical Details\n- **Endpoint**: GET /\n- **Expected Response**: PublicHome object with message/status fields\n- **Actual Response**: String 'do some magic!' causing validation error\n- **HTTP Status**: 500 Internal Server Error\n\n## Reproduction Steps\n1. Request root endpoint: curl http://localhost:8080/\n2. **Expected**: HTTP 200 with {\"message\": \"string\", \"status\": \"ok|maintenance\"}\n3. **Actual**: HTTP 500 with \"'do some magic!' is not of type 'object'\"\n\n## Solution Requirements\n1. Update root endpoint implementation to return proper PublicHome object\n2. Ensure response matches OpenAPI specification schema\n3. Return appropriate status (\"ok\" or \"maintenance\") and descriptive message\n\n## Definition of Done\n- Root endpoint returns HTTP 200 response\n- Response structure matches OpenAPI PublicHome schema\n- Frontend can successfully verify backend health status\n\n## Files Affected\n- Root endpoint controller implementation\n- PublicHome response object structure"}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/2","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/high_new.svg","name":"High","id":"2"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540897","self":"https://nortal.atlassian.net/rest/api/3/issue/540897","key":"PR003946-139","fields":{"summary":"Implement Automated Build Versioning and Validation Pre-checks","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10002","id":"10002","description":"A small, distinct piece of work.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10318?size=medium","name":"Task","subtask":false,"avatarId":10318,"hierarchyLevel":0},"created":"2025-09-14T01:21:31.380+0300","description":{"type":"doc","version":1,"content":[{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Problem Statement"}]},{"type":"paragraph","content":[{"type":"text","text":"Currently, the CMZ chatbot platform lacks build versioning, making it difficult to verify that validation testing is performed against the latest code changes. This creates validation confidence issues and debugging challenges when integration issues occur."}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Business Impact"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Validation Reliability: Cannot confirm services are running current code before integration testing"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Debugging Efficiency: No traceable build identifiers when investigating issues"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Development Workflow: Manual verification required to ensure code changes are deployed"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Production Readiness: Missing version tracking for deployment verification"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Acceptance Criteria"}]},{"type":"heading","attrs":{"level":3},"content":[{"type":"text","text":"AC1: Automated Build Number Generation"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Generate unique build numbers during make build-api command"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Build number format: YYYYMMDD-HHMM-{git-short-hash} (e.g., 20250913-2130-a1b2c3d)"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Build number stored in environment variables during build process"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Build number embedded in Docker container labels and environment"}]}]}]},{"type":"heading","attrs":{"level":3},"content":[{"type":"text","text":"AC2: Backend Version Integration"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Create /health endpoint that includes build version information"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Version information includes: buildNumber, gitCommit, buildTimestamp, environment"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Version accessible via environment variable in running container"}]}]}]},{"type":"heading","attrs":{"level":3},"content":[{"type":"text","text":"AC3: Frontend Version Integration"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Build number injected into React app during build process"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Version accessible in browser console or developer tools"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Frontend displays version in footer or about section"}]}]}]},{"type":"heading","attrs":{"level":3},"content":[{"type":"text","text":"AC4: Validation Pre-check Integration"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Update validation command to check versions first"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Pre-validation step queries both services for build numbers"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Clear error messages when build versions indicate stale code"}]}]}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/2","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/high_new.svg","name":"High","id":"2"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540899","self":"https://nortal.atlassian.net/rest/api/3/issue/540899","key":"PR003946-141","fields":{"summary":"Frontend Authentication Token Integration Failure","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10004","id":"10004","description":"A problem or error.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium","name":"Bug","subtask":false,"avatarId":10303,"hierarchyLevel":0},"created":"2025-09-14T02:09:40.855+0300","description":{"type":"doc","version":1,"content":[{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Problem Statement"}]},{"type":"paragraph","content":[{"type":"text","text":"Critical authentication integration failure where frontend UI displays authenticated admin state but API requests to protected endpoints fail with 401 Unauthorized errors, completely blocking admin functionality."}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Impact Analysis"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Severity","marks":[{"type":"strong"}]},{"type":"text","text":": Critical"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Scope","marks":[{"type":"strong"}]},{"type":"text","text":": All admin users, Animal Management module, protected API endpoints"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Blocking","marks":[{"type":"strong"}]},{"type":"text","text":": Prevents access to core admin functionality including animal configuration"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Reproduction Steps"}]},{"type":"orderedList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Navigate to http://localhost:3000 (automatically redirects to dashboard)"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Observe successful admin authentication state in UI (\"Admin (Administrator)\" displayed)"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Click \"Animal Management\" â†’ \"Chatbot Personalities\""}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Page loads at /animals/config but displays \"Error loading animals: Authentication token is required\""}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Browser console shows HTTP 401 Unauthorized errors for /api/animal_list requests"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Technical Analysis"}]},{"type":"paragraph","content":[{"type":"text","text":"Root Cause","marks":[{"type":"strong"}]},{"type":"text","text":": Frontend authentication state management disconnected from API request interceptors"}]},{"type":"paragraph","content":[{"type":"text","text":"Component","marks":[{"type":"strong"}]},{"type":"text","text":": Frontend authentication token persistence and API request header injection"}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Acceptance Criteria"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Admin users can access Animal Management without authentication errors"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"API requests include valid Authorization headers automatically"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Animal configuration page loads real zoo animal data"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Authentication state persists across route navigation"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Integration tests pass for authenticated admin workflows"}]}]}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/2","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/high_new.svg","name":"High","id":"2"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540900","self":"https://nortal.atlassian.net/rest/api/3/issue/540900","key":"PR003946-142","fields":{"summary":"Animal Detail Endpoint Returns Internal Server Error","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10004","id":"10004","description":"A problem or error.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium","name":"Bug","subtask":false,"avatarId":10303,"hierarchyLevel":0},"created":"2025-09-14T02:10:14.269+0300","description":{"type":"doc","version":1,"content":[{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Problem Statement"}]},{"type":"paragraph","content":[{"type":"text","text":"Individual animal detail endpoint (/animal/{id}) returns HTTP 500 internal server error with TypeError, preventing access to detailed animal information required for configuration workflows."}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Impact Analysis"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Severity","marks":[{"type":"strong"}]},{"type":"text","text":": High"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Scope","marks":[{"type":"strong"}]},{"type":"text","text":": Animal detail views, configuration workflows, individual animal management"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Blocking","marks":[{"type":"strong"}]},{"type":"text","text":": Prevents viewing and editing individual animal configurations"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Reproduction Steps"}]},{"type":"orderedList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Authenticate with valid JWT token: POST /api/auth with test@cmz.org/testpass123"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Extract token from response"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Make authenticated request: GET /api/animal/bella_002 with Authorization header"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Observe HTTP 500 response with \"internal_error\" and \"TypeError\" details"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Technical Analysis"}]},{"type":"paragraph","content":[{"type":"text","text":"Root Cause","marks":[{"type":"strong"}]},{"type":"text","text":": TypeError in animal detail endpoint implementation"}]},{"type":"paragraph","content":[{"type":"text","text":"Evidence","marks":[{"type":"strong"}]},{"type":"text","text":": HTTP 500 response with error_type: \"TypeError\""}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Acceptance Criteria"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"/animal/{id} endpoint returns HTTP 200 for valid animal IDs"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Response includes complete animal detail information"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"No TypeError exceptions in backend logs"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Integration tests pass for animal detail retrieval"}]}]}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/2","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/high_new.svg","name":"High","id":"2"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}},{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"540901","self":"https://nortal.atlassian.net/rest/api/3/issue/540901","key":"PR003946-143","fields":{"summary":"Display Name Validation Regex Too Restrictive","issuetype":{"self":"https://nortal.atlassian.net/rest/api/3/issuetype/10004","id":"10004","description":"A problem or error.","iconUrl":"https://nortal.atlassian.net/rest/api/2/universal_avatar/view/type/issuetype/avatar/10303?size=medium","name":"Bug","subtask":false,"avatarId":10303,"hierarchyLevel":0},"created":"2025-09-14T02:11:11.665+0300","description":{"type":"doc","version":1,"content":[{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Problem Statement"}]},{"type":"paragraph","content":[{"type":"text","text":"User authentication fails for accounts with underscores in display names due to overly restrictive regex pattern validation, preventing legitimate user accounts from accessing the system."}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Impact Analysis"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Severity","marks":[{"type":"strong"}]},{"type":"text","text":": Medium"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Scope","marks":[{"type":"strong"}]},{"type":"text","text":": User accounts with underscore characters in display names"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Blocking","marks":[{"type":"strong"}]},{"type":"text","text":": Prevents authentication for user_parent_001@cmz.org account"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Reproduction Steps"}]},{"type":"orderedList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Attempt authentication with POST /api/auth"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Use credentials for user_parent_001@cmz.org with password testpass123"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Observe HTTP 500 response with validation_error"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Error shows display name User_Parent_001 fails regex pattern validation"}]}]}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Technical Analysis"}]},{"type":"paragraph","content":[{"type":"text","text":"Root Cause","marks":[{"type":"strong"}]},{"type":"text","text":": Display name regex pattern excludes underscore characters"}]},{"type":"paragraph","content":[{"type":"text","text":"Evidence","marks":[{"type":"strong"}]},{"type":"text","text":": Current pattern rejects underscores but they are common in usernames"}]},{"type":"heading","attrs":{"level":2},"content":[{"type":"text","text":"Acceptance Criteria"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Display name validation accepts underscore characters"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"user_parent_001@cmz.org authenticates successfully"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Updated regex maintains security while allowing common characters"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"Unit tests verify pattern accepts underscores and rejects malicious input"}]}]}]}]},"assignee":null,"priority":{"self":"https://nortal.atlassian.net/rest/api/3/priority/10073","iconUrl":"https://nortal.atlassian.net/images/icons/priorities/medium.svg","name":"Medium","id":"10073"},"status":{"self":"https://nortal.atlassian.net/rest/api/3/status/10029","description":"(Migrated on 13 Jun 2022 06:55 UTC)","iconUrl":"https://nortal.atlassian.net/images/icons/statuses/generic.png","name":"To Do","id":"10029","statusCategory":{"self":"https://nortal.atlassian.net/rest/api/3/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}}],"isLast":true}
